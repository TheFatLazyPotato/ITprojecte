<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Input Generator</title>
</head>
<body>
    <h1>Dynamic Inputs</h1>
    <div id="inputs"></div>

    <script>
        const jsonFilePath = '../filters/teste.json';

        fetch(jsonFilePath)
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                generateInputs(data);
            })
            .catch(error => {
                console.error('Error fetching the JSON file:', error);
            });

        function generateInputs(json) {
            const container = document.getElementById('inputs');

            const filterTitle = document.createElement('p');
            filterTitle.textContent = json.filterName;
            container.appendChild(filterTitle);

            json.options.forEach(option => {
                const wrapper = document.createElement('div');
                wrapper.style.marginBottom = '20px';

                const label = document.createElement('label');
                label.textContent = `${option.name}: ${option.description}`;
                label.style.display = 'block';
                wrapper.appendChild(label);

                let input;
                switch (option.type) {
                    case 'slider':
                        input = document.createElement('input');
                        input.type = 'range';
                        input.min = option.options.min;
                        input.max = option.options.max;
                        input.step = option.options.step;
                        input.value = option.options.default;
                        break;

                    case 'bool':
                        input = document.createElement('input');
                        input.type = 'checkbox';
                        input.checked = option.options.default;
                        break;

                    case 'integer':
                        input = document.createElement('input');
                        input.type = 'number';
                        input.value = option.options.default;
                        input.min = option.options.min === 'nolimit' ? '' : option.options.min;
                        input.max = option.options.max === 'nolimit' ? '' : option.options.max;
                        break;

                    default:
                        console.warn(`Unknown type: ${option.type}`);
                        return;
                }

                wrapper.appendChild(input);

                container.appendChild(wrapper);
            });
        }
    </script>
</body>
</html>
